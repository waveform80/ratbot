<foo metal:use-macro="view.layout">
<div tal:omit-tag="True" metal:fill-slot="title">Administration</div>
<div tal:omit-tag="True" metal:fill-slot="content">
  <header class="spaced">
    <div metal:use-macro="view.nav_bar"></div>
  </header>

  <section tal:define="flashes request.session.pop_flash()">
    <div class="row" tal:condition="flashes">
      <div class="small-12 columns">
        <div data-alert class="alert-box info radius" tal:repeat="flash flashes">
          ${flash}<a href="" class="close">&times;</a>
        </div>
      </div>
    </div>
  </section>

  <section>
    <div class="row">
      <div class="small-12 columns">
        <h2>Users</h2>
        <ul class="medium-block-grid-2 large-block-grid-3">
          <li tal:repeat="user users">
            <div class="panel radius">
              <strong><a href="${request.route_url('admin_user', user=user.id)}">${user.id}</a></strong><br />
              <strong>${user.name}</strong> ${'(Adminstrator)' if user.admin else ''}
            </div>
          </li>
        </ul>
        <a class="small button radius" href="${request.route_url('admin_user_new')}">New User</a>
      </div>
    </div>
  </section>

  <div class="row">
    <div class="small-12 columns">
      <hr />
    </div>
  </div>

  <section>
    <div class="row">
      <div class="small-12 columns">
        <h2>Comics</h2>
        <ul class="medium-block-grid-2 large-block-grid-3">
          <li tal:repeat="(comic, author, issues) comics">
            <div class="panel radius">
              <strong><a href="${request.route_url('admin_comic', comic=comic.id)}">${comic.title}</a></strong><br />
              Author: <strong>${author}</strong><br />
              Issues: <strong>${issues}</strong>
            </div>
          </li>
        </ul>
        <a class="small button radius" href="${request.route_url('admin_comic_new')}">New Comic</a>
      </div>
    </div>
  </section>
</div>
</foo>

